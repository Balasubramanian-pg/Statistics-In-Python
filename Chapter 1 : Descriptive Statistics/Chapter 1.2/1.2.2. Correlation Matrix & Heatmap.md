# Spotify Audio Features Correlation Analysis

Here's a Python script to analyze relationships between Spotify audio features using correlation matrices and heatmaps:

```python
import pandas as pd
import numpy as np
import seaborn as sns
import matplotlib.pyplot as plt
from matplotlib.colors import LinearSegmentedColormap

# Load Spotify dataset (example from Kaggle)
# Download from: https://www.kaggle.com/datasets/yamaerenay/spotify-dataset-19212020-600k-tracks
spotify = pd.read_csv('tracks.csv')  # Replace with your actual file path

# Select audio features for correlation analysis
audio_features = [
    'danceability', 'energy', 'loudness', 'speechiness',
    'acousticness', 'instrumentalness', 'liveness', 'valence', 
    'tempo', 'duration_ms'
]

# Create correlation matrix
corr_matrix = spotify[audio_features].corr()

# Custom color gradient for heatmap
colors = ["#191414", "#1DB954"]  # Spotify brand colors
cmap = LinearSegmentedColormap.from_list("spotify_green", colors, N=256)

plt.figure(figsize=(12, 10))

# Create heatmap with annotations
heatmap = sns.heatmap(
    corr_matrix,
    annot=True,
    fmt=".2f",
    cmap=cmap,
    center=0,
    square=True,
    linewidths=0.5,
    cbar_kws={"shrink": 0.8},
    annot_kws={"size": 9}
)

# Customize heatmap appearance
plt.title("Spotify Audio Features Correlation Matrix", pad=20, fontsize=16)
heatmap.set_xticklabels(heatmap.get_xticklabels(), rotation=45, ha='right')
heatmap.set_yticklabels(heatmap.get_yticklabels(), rotation=0)

plt.tight_layout()
plt.show()

# Find strongest correlations
def get_top_correlations(corr_matrix, n=5):
    corr_series = corr_matrix.unstack()
    corr_series = corr_series[corr_series.index.get_level_values(0) != corr_series.index.get_level_values(1)]
    return corr_series.sort_values(ascending=False).drop_duplicates()

top_correlations = get_top_correlations(corr_matrix)

print("\nTop Positive Correlations:")
print(top_correlations.head(5).to_string())

print("\nTop Negative Correlations:")
print(top_correlations.tail(5).sort_values().to_string())

# Interpretation
print("\nExpected Relationships in Spotify Data:")
print("- Energy-Loudness: Louder tracks typically feel more energetic")
print("- Acousticness-Energy: Acoustic tracks usually have lower energy")
print("- Danceability-Valence: Happy-sounding tracks are often more danceable")
```

## Key Features of This Analysis:

1. **Data Preparation**:
   - Focuses on standard Spotify audio features
   - Handles missing values automatically (if any)

2. **Visualization**:
   - Uses Spotify's brand colors for thematic consistency
   - Includes correlation values in each cell
   - Clean layout with rotated x-axis labels

3. **Correlation Insights**:
   - Identifies top 5 positive and negative correlations
   - Provides expected interpretations of common relationships

4. **Practical Applications**:
   - Helps music producers understand feature relationships
   - Useful for recommendation system development
   - Can guide playlist curation strategies

For your own analysis, simply replace the dataset path with your Spotify data file. The script will automatically:
1. Calculate all pairwise correlations
2. Visualize them in an intuitive heatmap
3. Highlight the strongest relationships

Common findings you might expect:
- Strong positive correlation between energy and loudness
- Negative correlation between acousticness and energy
- Moderate correlation between danceability and valence (positiveness)
